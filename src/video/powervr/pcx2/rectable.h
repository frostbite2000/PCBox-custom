/*
 * 86Box    A hypervisor and IBM PC system emulator that specializes in
 * running old operating systems and software designed for IBM
 * PC systems and compatibles from 1981 through fairly recent
 * system designs based on the PCI bus.
 *
 *          This file is part of the 86Box distribution.
 *
 *          PowerVR PCX2 reciprocal lookup table for fast division operations.
 *          Based on the PowerVR Series1 "Texas" rendering core.
 *
 * Authors: [Your name here],
 *
 *          Copyright 2020-2025 [Your name here].
 */

#ifndef RECTABLE_H
#define RECTABLE_H

/* 
 * Reciprocal lookup table for fast division (1/x)
 * Used by the PCX2 hardware to accelerate perspective-correct texture mapping
 * Each 16-bit entry contains a fixed-point reciprocal value
 */
static const uint16_t pcx2_reciprocal_table[256] = {
    /* 1/x values in 0.16 fixed point format */
    0xFFFF, 0x8000, 0x5555, 0x4000, 0x3333, 0x2AAA, 0x2492, 0x2000, /* 1/1 through 1/8 */
    0x1C71, 0x1999, 0x1745, 0x1555, 0x13B1, 0x1249, 0x1111, 0x1000, /* 1/9 through 1/16 */
    0x0F0F, 0x0E38, 0x0D79, 0x0CCC, 0x0C30, 0x0BA2, 0x0B21, 0x0AAA, /* 1/17 through 1/24 */
    0x0A3D, 0x09D8, 0x097B, 0x0924, 0x08D3, 0x0888, 0x0842, 0x0800, /* 1/25 through 1/32 */
    0x07C1, 0x0787, 0x0750, 0x071C, 0x06EB, 0x06BC, 0x0690, 0x0666, /* 1/33 through 1/40 */
    0x063E, 0x0618, 0x05F4, 0x05D1, 0x05B0, 0x0590, 0x0572, 0x0555, /* 1/41 through 1/48 */
    0x0539, 0x051E, 0x0505, 0x04EC, 0x04D4, 0x04BD, 0x04A7, 0x0492, /* 1/49 through 1/56 */
    0x047D, 0x0469, 0x0456, 0x0444, 0x0432, 0x0421, 0x0410, 0x0400, /* 1/57 through 1/64 */
    0x03F0, 0x03E0, 0x03D2, 0x03C3, 0x03B5, 0x03A8, 0x039A, 0x038E, /* 1/65 through 1/72 */
    0x0381, 0x0375, 0x0369, 0x035E, 0x0353, 0x0348, 0x033D, 0x0333, /* 1/73 through 1/80 */
    0x0329, 0x031F, 0x0315, 0x030C, 0x0303, 0x02FA, 0x02F1, 0x02E8, /* 1/81 through 1/88 */
    0x02E0, 0x02D8, 0x02D0, 0x02C8, 0x02C0, 0x02B9, 0x02B1, 0x02AA, /* 1/89 through 1/96 */
    0x02A3, 0x029C, 0x0295, 0x028F, 0x0288, 0x0282, 0x027C, 0x0276, /* 1/97 through 1/104 */
    0x0270, 0x026A, 0x0265, 0x025F, 0x025A, 0x0254, 0x024F, 0x024A, /* 1/105 through 1/112 */
    0x0245, 0x0240, 0x023B, 0x0236, 0x0231, 0x022D, 0x0228, 0x0224, /* 1/113 through 1/120 */
    0x021F, 0x021B, 0x0217, 0x0213, 0x020F, 0x020B, 0x0207, 0x0203, /* 1/121 through 1/128 */
    0x01FF, 0x01FB, 0x01F7, 0x01F4, 0x01F0, 0x01EC, 0x01E9, 0x01E5, /* 1/129 through 1/136 */
    0x01E2, 0x01DE, 0x01DB, 0x01D8, 0x01D4, 0x01D1, 0x01CE, 0x01CB, /* 1/137 through 1/144 */
    0x01C8, 0x01C5, 0x01C2, 0x01BF, 0x01BC, 0x01B9, 0x01B6, 0x01B4, /* 1/145 through 1/152 */
    0x01B1, 0x01AE, 0x01AC, 0x01A9, 0x01A6, 0x01A4, 0x01A1, 0x019F, /* 1/153 through 1/160 */
    0x019C, 0x019A, 0x0197, 0x0195, 0x0192, 0x0190, 0x018E, 0x018C, /* 1/161 through 1/168 */
    0x0189, 0x0187, 0x0185, 0x0183, 0x0181, 0x017F, 0x017D, 0x017B, /* 1/169 through 1/176 */
    0x0179, 0x0177, 0x0175, 0x0173, 0x0171, 0x016F, 0x016D, 0x016B, /* 1/177 through 1/184 */
    0x0169, 0x0168, 0x0166, 0x0164, 0x0162, 0x0161, 0x015F, 0x015D, /* 1/185 through 1/192 */
    0x015B, 0x015A, 0x0158, 0x0157, 0x0155, 0x0154, 0x0152, 0x0151, /* 1/193 through 1/200 */
    0x014F, 0x014E, 0x014C, 0x014B, 0x0149, 0x0148, 0x0146, 0x0145, /* 1/201 through 1/208 */
    0x0143, 0x0142, 0x0141, 0x013F, 0x013E, 0x013D, 0x013B, 0x013A, /* 1/209 through 1/216 */
    0x0139, 0x0138, 0x0136, 0x0135, 0x0134, 0x0133, 0x0131, 0x0130, /* 1/217 through 1/224 */
    0x012F, 0x012E, 0x012D, 0x012B, 0x012A, 0x0129, 0x0128, 0x0127, /* 1/225 through 1/232 */
    0x0126, 0x0125, 0x0124, 0x0122, 0x0121, 0x0120, 0x011F, 0x011E, /* 1/233 through 1/240 */
    0x011D, 0x011C, 0x011B, 0x011A, 0x0119, 0x0118, 0x0117, 0x0116, /* 1/241 through 1/248 */
    0x0115, 0x0114, 0x0113, 0x0112, 0x0111, 0x0110, 0x010F, 0x010F  /* 1/249 through 1/256 */
};

#endif /* RECTABLE_H */